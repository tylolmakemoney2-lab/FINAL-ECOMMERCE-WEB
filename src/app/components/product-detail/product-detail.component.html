<div class="container mt-4" *ngIf="product">
  <div class="row g-5">
    <!-- Left: Gallery -->
    <div class="col-md-6">
      <div class="d-flex flex-column">
        <!-- Main image -->
        <img [src]="mainImage" class="img-fluid rounded shadow mb-3">

        <!-- Thumbnails -->
        <div class="d-flex gap-2">
          <img *ngFor="let img of product.images"
               [src]="img"
               class="img-thumbnail"
               style="width:80px; height:80px; object-fit:cover; cursor:pointer"
               (click)="setMainImage(img)">
        </div>
      </div>
    </div>

    <!-- Right: Info -->
    <div class="col-md-6">
      <h2 class="fw-bold">{{product.title}}</h2>
      <p class="text-muted">{{product.category.name}}</p>
      <h3 class="fw-bold mb-3">${{product.price}}</h3>

      <p>{{product.description}}</p>

      <button class="btn btn-success w-100 py-2 mb-3" (click)="addToCart(product)">
        Add to Cart
      </button>

      <div class="accordion" id="detailsAccordion">
        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDetails">
              Product Details
            </button>
          </h2>
          <div id="collapseDetails" class="accordion-collapse collapse show">
            <div class="accordion-body">
              {{product.description}}
            </div>
          </div>
        </div>

        <div class="accordion-item">
          <h2 class="accordion-header">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseShipping">
              Shipping & Returns
            </button>
          </h2>
          <div id="collapseShipping" class="accordion-collapse collapse">
            <div class="accordion-body">
              Standard shipping 3â€“7 days. 30-day returns.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
